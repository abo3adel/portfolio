{"id":5,"user_id":1,"category_id":1,"title":"Laravel Tutorial Building Your First Laravel Application Part 5","slug":"laravel-tutorial-building-your-first-laravel-application-part-5","body":"    <p>\r\n        In the previous post part 4, we created route the task deleteing route<br\r\n            data-tomark-pass=\"\"\r\n        \/>\r\n        and a form to create new tasks with validation in mind.\r\n    <\/p>\r\n    <p>\r\n        but now what if after some time you wanted to add new input to the task\r\n        form, will you test all form conditions every time you add some new\r\n        feature.<br data-tomark-pass=\"\" \/>\r\n    <\/p>\r\n    <p>Well That`s why we need to create tests.<\/p>\r\n    <hr \/>\r\n    <p>This Tutorial is divided into parts:<\/p>\r\n    <ol>\r\n        <li>\r\n            <a\r\n                href=\"\/blog\/laravel-tutorial-building-your-first-laravel-application-part-1\"\r\n                >part 1<\/a\r\n            >\r\n        <\/li>\r\n        <li>\r\n            <a\r\n                href=\"\/blog\/laravel-tutorial-building-your-first-laravel-application-part-2\"\r\n                >part 2<\/a\r\n            >\r\n        <\/li>\r\n        <li>\r\n            <a\r\n                href=\"\/blog\/laravel-tutorial-building-your-first-laravel-application-part-3\"\r\n                >part 3<\/a\r\n            >\r\n        <\/li>\r\n        <li>\r\n            <a\r\n                href=\"\/blog\/laravel-tutorial-building-your-first-laravel-application-part-4\"\r\n                >part 4<\/a\r\n            >\r\n        <\/li>\r\n        <li>\r\n            <strong\r\n                ><span class=\"text-secondary\" data-tomark-pass=\"\"\r\n                    >Part 5 (Last)<\/span\r\n                ><\/strong\r\n            >\r\n        <\/li>\r\n    <\/ol>\r\n    <hr \/>\r\n    <p>\r\n        <strong>Note<\/strong> The complete, finished source code for this project is\r\n        <a\r\n            target=\"_blank\"\r\n            href=\"https:\/\/github.com\/abo3adel\/laravel-tutorialyour-first-app\"\r\n            >available on GitHub<\/a\r\n        >.\r\n    <\/p>\r\n    <h2>Testing the Form Submission<\/h2>\r\n    <p>\r\n        Laravel makes HTTP testing a breeze for performing integration tests against\r\n        routes and middleware, so let\u2019s write a few feature tests to verify our code\r\n        works as expected.\r\n    <\/p>\r\n    <p>\r\n        <strong>First<\/strong>, delete this file\r\n        <code data-backticks=\"3\">tests\/Feature\/ExampleTest.php<\/code>\r\n    <\/p>\r\n    <p>\r\n        <strong>Then<\/strong> create our task test file<br\r\n            data-tomark-pass=\"\"\r\n        \/><br \/>\r\n        run this command\r\n    <\/p>\r\n    <pre\r\n        class=\"lang-bash\"\r\n    ><code data-language=\"bash\">  php artisan make:test AddingNewTaskTest\r\n    <\/code><\/pre>\r\n    <h2>Writing our tests<\/h2>\r\n    <p>\r\n        open our created file\r\n        <code data-backticks=\"3\">tests\/Feature\/AddingNewTaskTest.php<\/code>, and\r\n        remove any thing inside the class.\r\n    <\/p>\r\n    <h3>our tests<\/h3>\r\n    <ul>\r\n        <li>any one can add new task.<\/li>\r\n        <li>saving fails if no task body provided.<\/li>\r\n        <li>saving fails if task body exceeded max length (255 character).<\/li>\r\n        <li>task is created if validation passed.<\/li>\r\n    <\/ul>\r\n    <p><strong>Firstly<\/strong> let`s start writing our first test<\/p>\r\n    <pre\r\n        class=\"lang-php\"\r\n    ><code data-language=\"php\">\r\n    use RefreshDatabase; \/\/ empty database after every task\r\n    use WithFaker; \/\/ use faker to produce fake data\r\n\r\n    public function testAnyOneCanCreateTask()\r\n    {\r\n        \/\/ create fake task body\r\n        $task = [\r\n            'body' =&gt; $this-&gt;faker-&gt;sentence\r\n        ];\r\n\r\n        \/\/ submit the new task form\r\n        $this-&gt;post('\/', $task)\r\n            -&gt;assertRedirect('\/');\r\n\r\n        \/\/ check if new task was saved into database\r\n        $this-&gt;assertDatabaseHas('tasks', $task);\r\n\r\n        \/\/ visit homepage and see if this task was shown\r\n        $this-&gt;get('\/')\r\n            -&gt;assertSee($task['body']);\r\n    }\r\n    <\/code><\/pre>\r\n    <p>\r\n        <strong>Then<\/strong> to see our test results, we run this command after\r\n        every test\r\n    <\/p>\r\n    <pre class=\"lang-bash\"><code data-language=\"bash\">vendor\\bin\\phpunit\r\n    <\/code><\/pre>\r\n    <p>you should see now that all tests passed.<\/p>\r\n    <p>\r\n        <strong>Secondly<\/strong> we will test that task should not be added if no\r\n        body provided to the form.\r\n    <\/p>\r\n    <pre\r\n        class=\"lang-php\"\r\n    ><code data-language=\"php\">\r\n        public function testSavingFailsIfNoTaskBodyProvided()\r\n        {\r\n            $this-&gt;post('\/', [])-&gt;assertSessionHasErrors('body');\r\n        }\r\n    <\/code><\/pre>\r\n    <p>\r\n        <strong>Thirdly<\/strong> we will test that task should not be added if task\r\n        body length exceeded 255 characters.\r\n    <\/p>\r\n    <pre\r\n        class=\"lang-php\"\r\n    ><code data-language=\"php\">\r\n        public function testSavingFailsIfTaskBodyLengthExceededMaxLength()\r\n        {\r\n            \/\/ create a task body with length more than 255 characters\r\n            $task = [\r\n                'body' =&gt; $this-&gt;faker-&gt;words(150, true)\r\n            ];\r\n\r\n            $this-&gt;post('\/', $task)-&gt;assertSessionHasErrors('body');\r\n\r\n            \/\/ check that this task was not saved into database\r\n            $this-&gt;assertDatabaseMissing('tasks', $task);\r\n        }\r\n    <\/code><\/pre>\r\n    <p>\r\n        <strong>Lastly<\/strong> we will test that task should be saved if validation\r\n        passed.\r\n    <\/p>\r\n    <pre\r\n        class=\"lang-php\"\r\n    ><code data-language=\"php\">\r\n        public function testTaskIsCreatedIfValidationPassed()\r\n        {\r\n            $task = [\r\n                'body' =&gt; $this-&gt;faker-&gt;text(255)\r\n            ];\r\n\r\n            $this-&gt;post('\/', $task)\r\n                -&gt;assertRedirect('\/');\r\n\r\n            $this-&gt;assertDatabaseHas('tasks', $task);\r\n\r\n            $this-&gt;get('\/')\r\n                -&gt;assertSee($task['body']);\r\n        }\r\n    <\/code><\/pre>\r\n    <h2>Conclusion<\/h2>\r\n    <p>\r\n        Congratulations on making it through the tutorial. This guide was designed\r\n        to get you started on building your app, and you can use this as a building\r\n        block to gain the skills you need to develop your application. I know this\r\n        covers a lot of features and can be overwhelming if you are not familiar\r\n        with the framework.\r\n    <\/p>\r\n    <p><strong>Make sure to visit these Resources<\/strong><\/p>\r\n    <ul>\r\n        <li>\r\n            <a target=\"_blank\" href=\"https:\/\/laravel.com\/docs\/6.x\"\r\n                >Laravel Documentation<\/a\r\n            >\r\n        <\/li>\r\n        <li>\r\n            <a target=\"_blank\" href=\"https:\/\/laravel.com\/docs\/5.1\/quickstart\"\r\n                >Basic Task List<\/a\r\n            >\r\n            <span class=\"text-muted text-sm\" data-tomark-pass=\"\">laravel 5.1<\/span>\r\n        <\/li>\r\n        <li>\r\n            <a\r\n                target=\"_blank\"\r\n                href=\"https:\/\/laravel-news.com\/your-first-laravel-application\"\r\n                >LaravelNews Tutorial<\/a\r\n            >\r\n        <\/li>\r\n    <\/ul>","img":"ZOTwZYhoNkFZCV5cLA1beqKHLI4MsD0w4BdpVUIa.png","created_at":"2019-10-07T00:00:00.000000Z","updated_at":"2019-10-07T00:00:00.000000Z","updated":"07 Oct 2019","comments":[{"id":12,"post_id":5,"user_name":"ezekiel33","user_mail":"jarod.mertz@example.org","body":"Alias quia consequatur voluptatem cupiditate. Et rem soluta aut et. Commodi nulla id optio itaque qui. Enim temporibus qui provident iste nostrum nihil.","created_at":"2020-10-02T11:57:46.000000Z","updated_at":"2020-10-02T11:57:46.000000Z","updated":"02 Oct 2020","gravatar":"https:\/\/www.gravatar.com\/avatar\/c806f447b7e10e2d556ad15db0808b11.jpg?s=200&d=mm"},{"id":13,"post_id":5,"user_name":"mills.nicholas","user_mail":"strosin.idella@example.com","body":"Et aut error ut qui nisi sed. Exercitationem eos deleniti sit officia repudiandae.","created_at":"2020-10-02T11:57:46.000000Z","updated_at":"2020-10-02T11:57:46.000000Z","updated":"02 Oct 2020","gravatar":"https:\/\/www.gravatar.com\/avatar\/0f031dd8758f52b79417dc3ed3aef078.jpg?s=200&d=mm"}]}